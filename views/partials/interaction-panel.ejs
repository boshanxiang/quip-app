<%
    let upvoteBtn = document.querySelector('#upvote-button');
    let downvoteBtn = document.querySelector('#downvote-button');
    let bookmarkBtn = document.querySelector('#bookmark-button');

    upvoteBtn.addEventListener('click', () => {
        upvoteBtn.classList.toggle('active');
        if(downvoteBtn.classList.contains('active')) {
            if(upvoteBtn.classList.contains('active')) {
                downvoteBtn.classList.remove('active');
            }
        }
    });

    downvoteBtn.addEventListener('click', () => {
        downvoteBtn.classList.toggle('active');
        if(upvoteBtn.classList.contains('active')) {
            if(downvoteBtn.classList.contains('active')) {
                upvoteBtn.classList.remove('active');
            }
        }
    });

    bookmarkBtn.addEventListener('click', () => {
        bookmarkBtn.classList.toggle('active');
    });

%>

<style>

    .transparent-btn {
        display: none;
    }
    .active {
        color: red;
    }

</style>

<!-- INTERACTION PANEL -->
<% if(currentUser) { %>
    <div class="interact-panel">
        <!-- Upvote BUTTON -->
        <form action="/users/<%=post.id%>/upvote" method="POST" class="interact-btn">
            <label>
                <input type="submit" value="Upvote" class="transparent-btn">
                <p id="upvote-button">^^</p>

            </label>
        </form>
        <!--Net Vote Display-->
        <p><% let netVotes = post.upvotes - post.downvotes %>
            <%= netVotes %> </p>
        <!-- Downvote BUTTON -->
        <form action="/users/<%=post.id%>/downvote" method="POST" class="interact-btn">
            <label>
                <input type="submit" value="Downvote" class="transparent-btn">
                <p id="downvote-button">VV</p>
            </label>
        </form>

        <!-- BOOKMARK BUTTON -->
        <form action="/users/<%=post.id%>/bookmark" method="POST" class="interact-btn">
            <label>
                <input type="submit" value="Bookmark Post" class="transparent-btn">
            </label>
            <p id="bookmark-button">FAV</p>
        </form>
        
        <!-- DELETE BUTTON -->
        <form action="/posts/<%=post.id%>?_method=DELETE" method="POST" class="interact-btn">
            <input type="submit" value="Delete Post">
        </form>
        <!-- UPDATE BUTTON -->
        <form action="/posts/<%=post.id%>/edit" method="GET" class="interact-btn">
            <input type="submit" value="Update Post">
        </form>
    </div> 
<% } %>